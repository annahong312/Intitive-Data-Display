{"ast":null,"code":"import _slicedToArray from\"/Users/luludesai/Desktop/CSCI401/Intuitive-Data-Display/reactfirst/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import jwt_decode from\"jwt-decode\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){// want to create this as a global state so its accessible \nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];function handleCallbackResponse(response){console.log(\"Encoded JWT ID token: \"+response.credential);var userObject=jwt_decode(response.credential);console.log(userObject);setUser(userObject);document.getElementById(\"signInDiv\").hidden=true;}function handleSignOut(event){setUser({});document.getElementById(\"signInDiv\").hidden=false;}useEffect(function(){/* global google */google.accounts.id.initialize({client_id:process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID,callback:handleCallbackResponse});google.accounts.id.renderButton(document.getElementById(\"signInDiv\"),{theme:\"outline\",size:\"large\"});google.accounts.id.prompt();},[]);// If we have no user, show login button\n// If we have a user, show log out button \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"signInDiv\"}),Object.keys(user).length!==0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:user.picture,alt:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"h3\",{children:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleSignOut(e);},children:\"Sign Out\"})]})]});}//export default Login;","map":{"version":3,"names":["useEffect","useState","jwt_decode","Login","user","setUser","handleCallbackResponse","response","console","log","credential","userObject","document","getElementById","hidden","handleSignOut","event","google","accounts","id","initialize","client_id","process","env","REACT_APP_GOOGLE_DRIVE_CLIENT_ID","callback","renderButton","theme","size","prompt","Object","keys","length","picture","name","e"],"sources":["/Users/luludesai/Desktop/CSCI401/Intuitive-Data-Display/reactfirst/src/Login.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport jwt_decode from \"jwt-decode\";\n \nexport default function Login() {\n    // want to create this as a global state so its accessible \n    const [user, setUser] = useState({});\n\n    function handleCallbackResponse(response){\n        console.log(\"Encoded JWT ID token: \" + response.credential);\n        var userObject = jwt_decode(response.credential);\n        console.log(userObject);\n        setUser(userObject);\n        document.getElementById(\"signInDiv\").hidden = true;\n    }\n\n    function handleSignOut(event){\n        setUser({});\n        document.getElementById(\"signInDiv\").hidden = false;\n    }\n\n    useEffect(() => {\n        /* global google */\n        google.accounts.id.initialize({\n            client_id: process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID,\n            callback: handleCallbackResponse\n        })\n        google.accounts.id.renderButton(\n            document.getElementById(\"signInDiv\"),\n            {theme: \"outline\", size: \"large\"}\n        );\n\n        google.accounts.id.prompt();\n\n    }, [] );\n\n    // If we have no user, show login button\n\n    // If we have a user, show log out button \n\n    return(\n        <div className=\"Login\">\n            <div id=\"signInDiv\"></div>\n            { Object.keys(user).length !== 0 &&\n                <div>\n                    <img src={user.picture} alt=\"Profile Picture\"></img>\n                    <h3>{user.name}</h3>\n                    <button onClick={ (e) => handleSignOut(e) }>Sign Out</button>\n                </div>\n            }\n        </div>\n    )\n}\n\n//export default Login;"],"mappings":"wJAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,WAAP,KAAuB,YAAvB,C,wFAEA,cAAe,SAASC,MAAT,EAAiB,CAC5B;AACA,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eAEA,QAASC,uBAAT,CAAgCC,QAAhC,CAAyC,CACrCC,OAAO,CAACC,GAAR,CAAY,yBAA2BF,QAAQ,CAACG,UAAhD,EACA,GAAIC,WAAU,CAAGT,UAAU,CAACK,QAAQ,CAACG,UAAV,CAA3B,CACAF,OAAO,CAACC,GAAR,CAAYE,UAAZ,EACAN,OAAO,CAACM,UAAD,CAAP,CACAC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,MAArC,CAA8C,IAA9C,CACH,CAED,QAASC,cAAT,CAAuBC,KAAvB,CAA6B,CACzBX,OAAO,CAAC,EAAD,CAAP,CACAO,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,MAArC,CAA8C,KAA9C,CACH,CAEDd,SAAS,CAAC,UAAM,CACZ,mBACAiB,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBC,UAAnB,CAA8B,CAC1BC,SAAS,CAAEC,OAAO,CAACC,GAAR,CAAYC,gCADG,CAE1BC,QAAQ,CAAEnB,sBAFgB,CAA9B,EAIAW,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBO,YAAnB,CACId,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CADJ,CAEI,CAACc,KAAK,CAAE,SAAR,CAAmBC,IAAI,CAAE,OAAzB,CAFJ,EAKAX,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBU,MAAnB,GAEH,CAbQ,CAaN,EAbM,CAAT,CAeA;AAEA;AAEA,mBACI,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,EAAE,CAAC,WAAR,EADJ,CAEMC,MAAM,CAACC,IAAP,CAAY3B,IAAZ,EAAkB4B,MAAlB,GAA6B,CAA7B,eACE,oCACI,YAAK,GAAG,CAAE5B,IAAI,CAAC6B,OAAf,CAAwB,GAAG,CAAC,iBAA5B,EADJ,cAEI,oBAAK7B,IAAI,CAAC8B,IAAV,EAFJ,cAGI,eAAQ,OAAO,CAAG,iBAACC,CAAD,QAAOpB,cAAa,CAACoB,CAAD,CAApB,EAAlB,sBAHJ,GAHR,GADJ,CAYH,CAED"},"metadata":{},"sourceType":"module"}